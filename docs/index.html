<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Smart Image Editor</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Background GIF -->
    <img src="assets/evangelion.gif" alt="Background" class="background-gif">

    <!-- Loading overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-content">
            <img src="assets/evangelion.gif" alt="Loading..." class="loading-gif">
            <p>Loading Image Editor...</p>
        </div>
    </div>

    <!-- Main container -->
    <div class="container">
        <!-- Toolbar -->
        <div class="toolbar">
            <div class="auth-controls">
                <form id="loginForm" class="login-form">
                    <input type="text" id="username" placeholder="Username" required>
                    <input type="password" id="password" placeholder="Password" required>
                    <button type="submit" class="login-btn">Login</button>
                </form>
                <span id="usernameDisplay" class="username-display"></span>
            </div>
        </div>

        <!-- Controls and Canvas Grid -->
        <div class="controls-grid">
            <!-- Controls -->
            <div class="controls">
                <!-- Upload Section -->
                <div class="control-group">
                    <h3>Upload</h3>
                    <div class="upload-container">
                        <label class="upload-btn" for="imageUpload">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M14 10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v4z"/>
                                <path d="M13 4H3a1 1 0 0 1-.707-1.707l1.414-1.414A1 1 0 0 1 4.414 1h7.172a1 1 0 0 1 .707 1.707L13 2.707A1 1 0 0 1 13 4z"/>
                                <path d="M10 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                            </svg>
                            Upload Image
                        </label>
                        <input type="file" id="imageUpload" accept="image/*">
                        <div id="preview" class="preview-container"></div>
                    </div>
                </div>

                <!-- Adjustments Section -->
                <div class="control-group">
                    <h3>Image Adjustments</h3>
                    <div class="adjustments-container">
                        <div class="adjustment-item">
                            <label>Brightness</label>
                            <input type="range" id="brightness" min="-100" max="100" value="0">
                        </div>
                        <div class="adjustment-item">
                            <label>Contrast</label>
                            <input type="range" id="contrast" min="-100" max="100" value="0">
                        </div>
                        <div class="adjustment-item">
                            <label>Saturation</label>
                            <input type="range" id="saturation" min="-100" max="100" value="0">
                        </div>
                        <div class="adjustment-item">
                            <label>Hue</label>
                            <input type="range" id="hue" min="-100" max="100" value="0">
                        </div>
                        <div class="adjustment-item">
                            <label>Blur</label>
                            <input type="range" id="blur" min="0" max="10" value="0">
                        </div>
                    </div>
                </div>

                <!-- Operations Section -->
                <div class="control-group">
                    <h3>Image Operations</h3>
                    <div class="operations-container">
                        <button id="flip-horizontal" class="operation-btn">Flip Horizontal</button>
                        <button id="flip-vertical" class="operation-btn">Flip Vertical</button>
                        <button id="revert" class="operation-btn">Revert</button>
                    </div>
                </div>

                <!-- Actions Section -->
                <div class="control-group">
                    <h3>Actions</h3>
                    <div class="actions-container">
                        <button id="reset" class="action-btn">Reset</button>
                        <button id="apply" class="action-btn">Apply</button>
                        <button id="save" class="action-btn">Save</button>
                    </div>
                </div>
            </div>

            <!-- Canvas container -->
            <div class="canvas-container">
                <canvas id="editorCanvas"></canvas>
            </div>
        </div>

        <!-- Spacing -->
        <div class="spacing"></div>
    </div>

    <!-- Editor script -->
    <script src="editor.js"></script>

    <script>
        // Add debug information
        function updateDebugInfo(canvasFound, containerFound) {
            console.log('Canvas found:', canvasFound);
            console.log('Container found:', containerFound);
        }

        // Initialize editor after DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded');
            
            // Check canvas and container
            const canvas = document.getElementById('editorCanvas');
            const container = document.querySelector('.canvas-container');
            
            updateDebugInfo(!!canvas, !!container);
        });
    </script>
</body>
</html>
